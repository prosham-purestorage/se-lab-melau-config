# Pure Storage SE Lab Melbourne - Shared Configuration
# This is the master configuration file for all lab infrastructure

lab_info:
  name: "Melbourne_SE_Lab"
  location: "Melbourne_Australia"
  contact: "prosham@purestorage.com"
  version: "1.0.0"
  created: "2025-07-30"
  description: "Pure Storage SE Lab Melbourne - Centralized Configuration"
  organization: "prosham-purestorage"

infrastructure:
  vcenter:
    server: "pstg-mgmt-vcsa1.mel.aulab.purestorage.com"
    datacenter: "Melbourne-SE-Lab"
    cluster: "Pure-Mgmt-Cluster"
    datastore: "Pure-Mgmt-Local-SSD1"
    network: "VM Network"
    template_folder: "Templates"
    
  domain:
    name: "mel.aulab.purestorage.com"
    ldap_url: "ldaps://pstg-mgmt-ad1.mel.aulab.purestorage.com:389"
    search_base: "dc=mel,dc=aulab,dc=purestorage,dc=com"
    bind_dn: "cn=purebind@mel.aulab.purestorage.com"
    
  network:
    subnet: "10.112.0.0/24"
    gateway: "10.112.0.1"
    dns_servers:
      - "10.112.0.9"
    ntp_server: "10.98.0.2,10.98.0.3"
    
services:
  web_console:
    port: 3000
    ssl_enabled: true
    admin_vm_ip: "10.112.0.11"
    admin_vm_hostname: "pstg-mgmt-admin"
    repository: "prosham-purestorage/se-lab-melau-webconsole"
    
  rds:
    server_ip: "10.112.0.10"
    gateway_host: "pstg-mgmt-rds.mel.aulab.purestorage.com"
    web_access_url: "https://pstg-mgmt-rds.mel.aulab.purestorage.com/rdweb"
    farm_name: "Pure-SE-Lab-RDS"

vm_templates:
  ubuntu:
    template_name: "pr-ubuntu-template"
    base_image: "Ubuntu 22.04 LTS"
    cpu_cores: 2
    memory_gb: 4
    disk_gb: 20
    network: "VM Network"
    repository: "prosham-purestorage/se-lab-melau-vmtemplates"
      
  windows_server:
    template_name: "pr-windows-server-template" 
    base_image: "Windows Server 2022"
    cpu_cores: 4
    memory_gb: 8
    disk_gb: 60
    network: "VM Network"
    repository: "prosham-purestorage/se-lab-melau-vmtemplates"
      
  windows_client:
    template_name: "pr-windows-client-template"
    base_image: "Windows 11 Enterprise"
    cpu_cores: 2
    memory_gb: 8
    disk_gb: 60
    network: "VM Network"
    repository: "prosham-purestorage/se-lab-melau-vmtemplates"

integration:
  repositories:
    config: "https://github.com/prosham-purestorage/se-lab-melau-config"
    webconsole: "https://github.com/prosham-purestorage/se-lab-melau-webconsole"
    vmtemplates: "https://github.com/prosham-purestorage/se-lab-melau-vmtemplates"
    ansible: "https://github.com/prosham-purestorage/se-lab-melau-ansible"
    
  shared_secrets:
    encryption_method: "aes-256-cbc"
    keyfile_location: "$HOME/.purestorage/se-lab-melau.key"
    secrets_file: "secrets.yml.encrypted"

pure_storage:
  arrays:
    primary:
      management_vip: "10.112.0.5"
      username: "pureuser"

security:
  ssl_certificates:
    path: "/opt/vmware-webconsole/certificates"
    auto_renew: true
  
  session:
    timeout_minutes: 480
    max_concurrent: 10

monitoring:
  log_level: "info"
  retention_days: 30